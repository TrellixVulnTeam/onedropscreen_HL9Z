{"ast":null,"code":"import _slicedToArray from\"/home/vrdevchris/rappaSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{listProducts}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HomeScreen(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchKeyword=_useState2[0],setSearchKeyword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sortOrder=_useState4[0],setSortOrder=_useState4[1];var category=props.match.params.id?props.match.params.id:'';var productList=useSelector(function(state){return state.productList;});var products=productList.products,loading=productList.loading,error=productList.error;var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product;var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),qty=_useState6[0],setQty=_useState6[1];var dispatch=useDispatch();useEffect(function(){dispatch(listProducts(category));return function(){//\n};},[category]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(listProducts(category,searchKeyword,sortOrder));};var sortHandler=function sortHandler(e){setSortOrder(e.target.value);dispatch(listProducts(category,searchKeyword,sortOrder));};var handleAddToCart=function handleAddToCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jumbo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"grow\",src:\"https://res.cloudinary.com/djrbfvpit/image/upload/v1615848655/jumbopicsmaller_fhfhjt.png\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tagline\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Meal Prep.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"taglinesub\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Made Easy.\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"fade-in slide-in-down\",src:\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616011006/downarrow_cz4juo.png\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-steps\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616008974/checkoutsteps_phlzyk.png\"})}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsx(\"ul\",{className:\"products\",id:\"products\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:/*#__PURE__*/_jsx(\"img\",{className:\"product-image\",src:product.image,alt:\"product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-rating\",children:[product.rating,\" Stars\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-rating\",children:[product.numReviews,\" Reviews\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:'/product/'+product._id,children:/*#__PURE__*/_jsx(\"button\",{className:\"button primary\",children:\"View Details\"})})})]})},product._id);})})]});}export default HomeScreen;","map":{"version":3,"sources":["/home/vrdevchris/rappaSite/frontend/src/Screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","listProducts","HomeScreen","props","searchKeyword","setSearchKeyword","sortOrder","setSortOrder","category","match","params","id","productList","state","products","loading","error","productDetails","product","qty","setQty","dispatch","submitHandler","e","preventDefault","sortHandler","target","value","handleAddToCart","history","push","map","_id","image","name","price","rating","numReviews"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listProducts } from '../actions/productActions';\n\n\n\nfunction HomeScreen (props) {\n\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [sortOrder, setSortOrder] = useState('');\n    const category = props.match.params.id ? props.match.params.id:'';\n    \n    const productList = useSelector(state => state.productList);\n    const {products, loading, error} = productList;\n\n    const productDetails = useSelector(state => state.productDetails);\n    const { product } = productDetails;\n\n    const [qty, setQty] = useState(1);\n    \n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(listProducts(category));\n        \n        return () => {\n            //\n        }\n    }, [category]);\n\n    const submitHandler = (e) => {\n      e.preventDefault();\n      dispatch(listProducts(category, searchKeyword, sortOrder))\n    } \n\n    const sortHandler = (e) => {\n      setSortOrder(e.target.value);\n      dispatch(listProducts(category, searchKeyword, sortOrder))\n    }\n\n    const handleAddToCart = () => {\n      props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty) \n    }\n\n\n\n\n    return (\n    <>\n    <div className=\"jumbo\">\n      <div className=\"main-img\">\n        <img className=\"grow\" src=\"https://res.cloudinary.com/djrbfvpit/image/upload/v1615848655/jumbopicsmaller_fhfhjt.png\"></img>\n      </div>\n      <div className=\"tagline\">\n        <h1>Meal Prep.</h1>\n        <span className=\"taglinesub\"><h1>Made Easy.</h1></span>\n        <img className=\"fade-in slide-in-down\" src=\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616011006/downarrow_cz4juo.png\"></img>\n      </div>\n      \n    </div>\n    <div className=\"order-steps\">\n      <img src=\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616008974/checkoutsteps_phlzyk.png\"></img>\n    </div>\n\n      {/* I don't see a good use for the search funcionatliy right now, but we'll keep it here for later */}\n\n      {/* {category && <h2>{category}</h2>}\n      <ul className=\"filter\">\n        <li>\n          <form onSubmit={submitHandler}>\n            <input name=\"searchKeyword\" onChange={(e) => setSearchKeyword(e.target.value)} />\n            <button type=\"submit\">Search</button>\n          </form>\n        </li>\n        <li>\n        Sort By {''}\n          <select name=\"sortOrder\" onChange={sortHandler}>\n            <option value=\"\">Newest</option>\n            <option value=\"lowest\">Lowest</option>\n            <option value=\"highest\">Highest</option>\n          </select>\n        </li>\n      </ul> */}\n      {loading ? (\n        <div>Loading...</div>\n      ) : error? (\n        <div>{error}</div>\n      ) : (\n      <ul className=\"products\" id=\"products\">\n            {products.map((product) => (\n              <li key={product._id}>\n                  <div className=\"product\">\n                    <Link to={'/product/' + product._id}>\n                      <img className=\"product-image\" src={product.image} alt=\"product\"/>\n                    </Link> \n                    <div className=\"product-name\">\n                      <Link to={'/product/' + product._id}>{product.name}</Link> \n                      </div>\n                    <div className=\"product-price\">${product.price}</div>\n                    <div className=\"product-rating\">{product.rating} Stars</div>\n                    <div className=\"product-rating\">{product.numReviews} Reviews</div>\n                    <div>\n                      <Link to={'/product/' + product._id}>\n                        <button className=\"button primary\">\n                          View Details\n                        </button>\n                      </Link>\n                    </div>\n\n                    {/* In the future, I want to have \"Add to Cart\" button and \"Qty\" selection \n                    using +/- buttons that are limited by product.countInStock. Also to have a \"View Details\" button\n                    on the product card that opens a pop up window with product details. This flow would have the\n                    customer continually adding items with the cart updating as they do instead of moving through\n                    two different screens for this. */}\n\n                    {/* Problems encountered with this so far: \n                    - When I increment/decrement on one product it adjusts it for all products on the page\n                    - Unable to get limit from product.countInStock for +/- buttons \n                    */}\n\n                  </div>\n              </li>\n              ))}\n        </ul>  \n      )}\n  </>\n  );\n}\n    \n\nexport default HomeScreen;"]},"metadata":{},"sourceType":"module"}