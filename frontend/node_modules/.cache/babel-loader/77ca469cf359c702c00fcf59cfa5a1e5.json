{"ast":null,"code":"import { ITEM_LIST_REQUEST, ITEM_LIST_SUCCESS, ITEM_LIST_FAIL, ITEM_DETAILS_REQUEST, ITEM_DETAILS_SUCCESS, ITEM_DETAILS_FAIL, ITEM_SAVE_REQUEST, ITEM_SAVE_SUCCESS, ITEM_SAVE_FAIL, ITEM_DELETE_SUCCESS, ITEM_DELETE_FAIL, ITEM_DELETE_REQUEST } from '../constants/itemConstants';\nimport axios from 'axios';\n\nconst listItems = (endpoint, numItems) => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(endpoint);\n    const allItems = {};\n\n    for (let i = 0; i < numItems; i++) {\n      item = await axios.get(endpoint);\n      allItems += item;\n    }\n\n    console.log(allItems);\n    dispatch({\n      type: ITEM_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveItem = item => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ITEM_SAVE_REQUEST,\n      payload: item\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n\n    if (!item._id) {\n      const {\n        data\n      } = await axios.post('/api/items', item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    } else {\n      const {\n        data\n      } = await axios.put('/api/items/' + item._id, item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: ITEM_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsItem = itemId => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_DETAILS_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.get(\"/api/items/\" + itemId);\n    dispatch({\n      type: ITEM_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst deleteItem = itemId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: ITEM_DELETE_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.delete('/api/items/' + itemId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: ITEM_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listItems, detailsItem, saveItem, deleteItem };","map":{"version":3,"sources":["/home/vrdevchris/photoPortfolio/frontend/src/actions/itemActions.js"],"names":["ITEM_LIST_REQUEST","ITEM_LIST_SUCCESS","ITEM_LIST_FAIL","ITEM_DETAILS_REQUEST","ITEM_DETAILS_SUCCESS","ITEM_DETAILS_FAIL","ITEM_SAVE_REQUEST","ITEM_SAVE_SUCCESS","ITEM_SAVE_FAIL","ITEM_DELETE_SUCCESS","ITEM_DELETE_FAIL","ITEM_DELETE_REQUEST","axios","listItems","endpoint","numItems","dispatch","type","data","get","allItems","i","item","console","log","payload","error","message","saveItem","getState","userSignin","userInfo","_id","post","headers","token","put","detailsItem","itemId","deleteItem","delete","Authorization","success"],"mappings":"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","sourcesContent":["import {\n    ITEM_LIST_REQUEST,\n    ITEM_LIST_SUCCESS,\n    ITEM_LIST_FAIL,\n    ITEM_DETAILS_REQUEST,\n    ITEM_DETAILS_SUCCESS,\n    ITEM_DETAILS_FAIL,\n    ITEM_SAVE_REQUEST,\n    ITEM_SAVE_SUCCESS,\n    ITEM_SAVE_FAIL,\n    ITEM_DELETE_SUCCESS,\n    ITEM_DELETE_FAIL,\n    ITEM_DELETE_REQUEST,\n  } from '../constants/itemConstants';\nimport axios from 'axios';\n\n\n\nconst listItems = (endpoint, numItems) => async (dispatch) => {\n  try{\n    dispatch({type: ITEM_LIST_REQUEST});\n    const {data} = await axios.get(endpoint);\n    const allItems = {};\n    for(let i = 0; i < numItems; i++){\n      item = await axios.get(endpoint);\n      allItems += item;\n    }\n    console.log(allItems);\n    \n    dispatch({type: ITEM_LIST_SUCCESS,  payload: data})\n  }\n  catch(error){\n    dispatch({ type: ITEM_LIST_FAIL, payload: error.message});\n  }\n}\n\nconst saveItem = (item) => async (dispatch, getState) => {\n    try {\n      dispatch({type: ITEM_SAVE_REQUEST, payload: item})\n      const {\n          userSignin: { userInfo },\n      } = getState();\n      if(!item._id){\n          const {data} = await axios.post('/api/items', item, {\n            headers: {\n              'Authorization' : 'Bearer ' + userInfo.token,\n            },\n          });\n\n      dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n      } else {\n        const {data} = await axios.put('/api/items/' + item._id, item, {\n          headers: {\n            'Authorization' : 'Bearer ' + userInfo.token,\n          },\n        });\n\n        dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n        }\n        \n    \n        \n    } catch (error) {\n      dispatch({type: ITEM_SAVE_FAIL, payload: error.message})\n    }\n};\n\nconst detailsItem = (itemId) => async (dispatch) => {\n    try{\n      dispatch({type: ITEM_DETAILS_REQUEST, payload: itemId});\n      const {data} = await axios.get(\"/api/items/\" + itemId);\n      dispatch({type: ITEM_DETAILS_SUCCESS, payload: data});\n    } catch (error) {\n      dispatch({type: ITEM_DETAILS_FAIL, payload: error.message});\n    }\n}\n\nconst deleteItem = (itemId) => async (dispatch, getState) => {\n    try {\n      const {\n        userSignin: { userInfo },\n      } = getState();\n      dispatch({ type: ITEM_DELETE_REQUEST, payload: itemId });\n      const { data } = await axios.delete('/api/items/' + itemId, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token,\n        },\n      });\n      dispatch({ type: ITEM_DELETE_SUCCESS, payload: data, success: true });\n    } catch (error) {\n      dispatch({ type: ITEM_DELETE_FAIL, payload: error.message });\n    }\n  };\n\n\n\nexport { listItems, detailsItem, saveItem, deleteItem };"]},"metadata":{},"sourceType":"module"}