{"ast":null,"code":"import _defineProperty from\"/home/vrdevchris/rappaSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/vrdevchris/rappaSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//made all this\nimport{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{logout,update}from'../actions/userActions';import{listMyOrders}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileScreen(props){var _jsx2;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var dispatch=useDispatch();var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo;var handleLogout=function handleLogout(){dispatch(logout());props.history.push(\"/signin\");};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(update({userId:userInfo._id,email:email,name:name,password:password}));};var userUpdate=useSelector(function(state){return state.userUpdate;});var loading=userUpdate.loading,success=userUpdate.success,error=userUpdate.error;var myOrderList=useSelector(function(state){return state.myOrderList;});var loadingOrders=myOrderList.loading,orders=myOrderList.orders,errorOrders=myOrderList.error;console.log(myOrderList);console.log(orders);useEffect(function(){if(userInfo){setEmail(userInfo.email);setName(userInfo.name);setPassword(userInfo.password);}dispatch(listMyOrders());return function(){};},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-info\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,children:/*#__PURE__*/_jsxs(\"ul\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{children:error}),success&&/*#__PURE__*/_jsx(\"div\",{children:\"Profile Saved Successfully\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:name,type:\"name\",name:\"name\",id:\"name\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{value:email,type:\"email\",name:\"email\",id:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:password,type:\"password\",name:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,type:\"submit\",className:\"button primary full-width\",children:\" Update \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",(_jsx2={type:\"button\",onClick:handleLogout},_defineProperty(_jsx2,\"type\",\"submit\"),_defineProperty(_jsx2,\"className\",\"button secondary full-width\"),_defineProperty(_jsx2,\"children\",\" Logout \"),_jsx2))})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-orders content-margin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orders-header\",children:\"Your Past Orders\"}),loadingOrders?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):errorOrders?/*#__PURE__*/_jsx(\"div\",{children:errorOrders}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/order/\"+order._id,children:\"DETAILS\"})})]},order._id);})})]})]})]});}export default ProfileScreen;","map":{"version":3,"sources":["/home/vrdevchris/rappaSite/frontend/src/Screens/ProfileScreen.js"],"names":["useEffect","useState","Link","useDispatch","useSelector","logout","update","listMyOrders","ProfileScreen","props","name","setName","password","setPassword","email","setEmail","dispatch","userSignin","state","userInfo","handleLogout","history","push","submitHandler","e","preventDefault","userId","_id","userUpdate","loading","success","error","myOrderList","loadingOrders","orders","errorOrders","console","log","target","value","map","order","createdAt","substring","totalPrice","isPaid"],"mappings":"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","sourcesContent":["//made all this\n\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, update } from '../actions/userActions';\nimport { listMyOrders } from '../actions/orderActions';\n\nfunction ProfileScreen(props) {\n\n    const [name, setName] = useState('');\n    const [password, setPassword] = useState('');\n    const [email, setEmail] = useState('');\n\n    const dispatch = useDispatch();\n\n    const userSignin = useSelector(state => state.userSignin) \n    const { userInfo } = userSignin;  \n\n    const handleLogout = () =>{\n        dispatch(logout());\n        props.history.push(\"/signin\");\n    }\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        dispatch(update({ userId: userInfo._id, email, name, password}));\n    }\n\n    const userUpdate = useSelector(state => state.userUpdate);\n    const { loading, success, error } = userUpdate;\n\n    const myOrderList = useSelector(state => state.myOrderList);\n    const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n\n    console.log(myOrderList);\n    console.log(orders);\n    \n    useEffect(() => {\n        if(userInfo){\n            setEmail(userInfo.email);\n            setName(userInfo.name);\n            setPassword(userInfo.password);\n        }\n        dispatch(listMyOrders());\n        return () => {\n            \n        }\n    }, [dispatch])\n\n    return <div className=\"profile\">\n        <div className=\"profile-info\">\n            <div className=\"form\">\n                <form onSubmit={submitHandler}>\n                    <ul className=\"form-container\">\n                        <li>\n                            <h2>User Profile</h2>\n                        </li>\n                        <li>\n                            {loading && <div>Loading...</div>}\n                            {error && <div>{error}</div>}\n                            {success && <div>Profile Saved Successfully</div>}\n                        </li>\n                        <li>\n                            <label htmlFor=\"name\">\n                                Name\n                            </label>\n                            <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}></input>\n                        </li>\n                        <li>\n                            <label htmlFor=\"email\">\n                                Email\n                            </label>\n                            <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}></input>\n                        </li>\n                        <li>\n                            <label htmlFor=\"password\">\n                                Password\n                            </label>\n                            <input value={password} type=\"password\" name=\"password\" id=\"password\" onChange={(e) => setPassword(e.target.value)}></input>\n                        </li>\n                        <li>\n                            <button onClick={submitHandler} type=\"submit\" className=\"button primary full-width\"> Update </button>\n                        </li>\n                        <li>\n                            <button type=\"button\" onClick={handleLogout} type=\"submit\" className=\"button secondary full-width\"> Logout </button>\n                        </li>\n                        \n                    </ul>\n                </form>\n            </div>\n        </div>\n        <div className=\"profile-orders content-margin\">\n            <div className=\"orders-header\">Your Past Orders</div>\n            {\n                loadingOrders ? <div>Loading...</div>:\n                errorOrders ? <div>{errorOrders}</div> :\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>DATE</th>\n                            <th>TOTAL</th>\n                            <th>PAID</th>\n                            <th>ACTIONS</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {orders.map(order => <tr key={order._id}>\n                            <td>{order._id}</td>\n                            <td>{order.createdAt.substring(0,10)}</td>\n                            <td>{order.totalPrice}</td>\n                            <td>{order.isPaid}</td>\n                            <td>\n                                <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                            </td>\n                        </tr>)}\n                    </tbody>\n                </table>\n            }\n        </div>\n    </div>\n}\n\nexport default ProfileScreen;\n\n"]},"metadata":{},"sourceType":"module"}