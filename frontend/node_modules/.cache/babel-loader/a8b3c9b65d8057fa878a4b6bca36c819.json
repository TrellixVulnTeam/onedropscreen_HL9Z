{"ast":null,"code":"import _toConsumableArray from\"/home/vrdevchris/rappaSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vrdevchris/rappaSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{detailsProduct}from'../actions/productActions';import React,{useEffect,useRef,useState}from'react';import{HashLink}from'react-router-hash-link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useHover(){var ref=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hovered=_useState2[0],setHovered=_useState2[1];var enter=function enter(){return setHovered(true);};var leave=function leave(){return setHovered(false);};useEffect(function(){ref.current.addEventListener('mouseenter',enter);ref.current.addEventListener('mouseleave',leave);return function(){//\n};},[]);return[ref,hovered];}function ProductScreen(props){var _useHover=useHover(),_useHover2=_slicedToArray(_useHover,2),ref=_useHover2[0],hovered=_useHover2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),qty=_useState4[0],setQty=_useState4[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;var dispatch=useDispatch();console.log(hovered);useEffect(function(){dispatch(detailsProduct(props.match.params.id));return function(){//\n};},[]);var handleAddToCart=function handleAddToCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/_jsxs(\"div\",{className:\"details-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-to-result\",children:/*#__PURE__*/_jsx(HashLink,{to:\"/#products\",ref:ref,children:hovered?/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616265424/circle_left_hover_us7qqa.png\"}):/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616262644/circled-left-2_usxejf.png\"})})}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-info-action\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h4\",{children:product.name})}),/*#__PURE__*/_jsxs(\"li\",{className:\"rating-price\",children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",product.price]}),product.rating,\" Stars (\",product.numReviews,\" Reviews)\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"description\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"description-head\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{children:product.description})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-action\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Status: \",product.countInStock>0?/*#__PURE__*/_jsx(\"div\",{className:\"instock\",children:\"In Stock\"}):\"Out Of Stock\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Qty:\"}),\" \",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"div\",{children:product.countInStock>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"button primary\",children:\"Add to Cart\"})})]})]})]})]});}export default ProductScreen;","map":{"version":3,"sources":["/home/vrdevchris/rappaSite/frontend/src/Screens/ProductScreen.js"],"names":["Link","useSelector","useDispatch","detailsProduct","React","useEffect","useRef","useState","HashLink","useHover","ref","hovered","setHovered","enter","leave","current","addEventListener","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","console","log","match","params","id","handleAddToCart","history","push","image","name","price","rating","numReviews","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import {Link} from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { detailsProduct } from '../actions/productActions';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { HashLink } from 'react-router-hash-link';\n\n\n\nfunction useHover(){\n    const ref = useRef();\n    const [hovered, setHovered] = useState(false);\n\n    const enter = () => setHovered(true);\n    const leave = () => setHovered(false);\n    \n    useEffect(() => {\n \n        ref.current.addEventListener('mouseenter', enter)\n        ref.current.addEventListener('mouseleave', leave)\n\n        return () => {\n            //\n        }\n    }, [])\n    \n    return[ref, hovered];\n}\n\n\nfunction ProductScreen (props) {\n\n    const [ref, hovered] = useHover();\n    const [qty, setQty] = useState(1);\n    const productDetails = useSelector(state => state.productDetails);\n    const { product, loading, error } = productDetails;\n    const dispatch = useDispatch();\n\n    console.log(hovered);\n\n    useEffect(() => {\n        dispatch(detailsProduct(props.match.params.id));\n        return () => {\n          //\n        };\n      }, []);\n\n      const handleAddToCart = () => {\n\n          props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty) \n\n        }\n\n    return <div className=\"details-container\">\n        <div className=\"back-to-result\">\n            <HashLink to=\"/#products\" ref={ref}>\n                \n                {hovered ? \n                <img src=\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616265424/circle_left_hover_us7qqa.png\"/>\n                : \n                <img src=\"https://res.cloudinary.com/djrbfvpit/image/upload/v1616262644/circled-left-2_usxejf.png\" />}\n\n                \n            </HashLink>\n        </div>\n        {loading? <div>Loading...</div>:\n        error? <div>{error}</div>: \n\n    (\n        <div className=\"details\">\n            <div className=\"details-image\">\n                <img src={product.image} alt=\"product\" />\n            </div>\n            <div className=\"details-info-action\">\n                <div className=\"details-info\">\n                    <ul>\n                        <li>\n                            <h4>{product.name}</h4>\n                        </li>\n                        <li className=\"rating-price\">\n                            <b>${product.price}</b>\n                            {product.rating} Stars ({product.numReviews} Reviews)\n                        </li>\n                        <li className=\"description\">\n                            <div className=\"description-head\">\n                                Description\n                            </div>\n                            \n                            <div>\n                                {product.description}\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"details-action\">\n                            <div>\n                            Status: {product.countInStock > 0? <div className=\"instock\">In Stock</div> : \"Out Of Stock\"}\n                            </div>\n                            <div>\n                                <div>Qty:</div> <select value={qty} onChange={(e) => {setQty(e.target.value)}}>\n                                    {[...Array(product.countInStock).keys()].map(x =>\n                                    <option key={x+1} value={x+1}>{x+1}</option>\n                                        )}\n                                </select>\n                            </div>\n                            <div>\n                            {\n                            \n                            product.countInStock > 0 && \n                            <button  onClick={handleAddToCart} className=\"button primary\">Add to Cart</button>\n\n                            }\n                            </div>\n                </div>\n            </div>\n        </div>\n\n    \n    )\n    \n    }\n    </div> \n}\n\nexport default ProductScreen;\n\n\n"]},"metadata":{},"sourceType":"module"}