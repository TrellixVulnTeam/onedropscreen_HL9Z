{"ast":null,"code":"import{useSelector,useDispatch}from'react-redux';import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{listOrders,deleteOrder}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersScreen(props){var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,orders=orderList.orders,error=orderList.error;var orderDelete=useSelector(function(state){return state.orderDelete||{};});var loadingDelete=orderDelete.loading,successDelete=orderDelete.success,errorDelete=orderDelete.error;var dispatch=useDispatch();console.log(orderList);useEffect(function(){dispatch(listOrders());return function(){//\n};},[successDelete]);var deleteHandler=function deleteHandler(order){dispatch(deleteOrder(order._id));};return loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"content content-margined\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Orders\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"order-list\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID AT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED AT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid.toString()}),/*#__PURE__*/_jsx(\"td\",{children:order.paidAt}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered.toString()}),/*#__PURE__*/_jsx(\"td\",{children:order.deliveredAt}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/order/\"+order._id,className:\"button seconday\",children:\" Details \"}),'',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return deleteHandler(order);},className:\" button secondary\",children:\" Delete \"})]})]},order._id);})})]})})]});}export default OrdersScreen;","map":{"version":3,"sources":["/home/vrdevchris/rappaSite/frontend/src/Screens/OrdersScreen.js"],"names":["useSelector","useDispatch","React","useEffect","useState","Link","listOrders","deleteOrder","OrdersScreen","props","orderList","state","loading","orders","error","orderDelete","loadingDelete","successDelete","success","errorDelete","dispatch","console","log","deleteHandler","order","_id","map","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,yBAAxC,C,wFAGA,QAASC,CAAAA,YAAT,CAAuBC,KAAvB,CAA8B,CAE1B,GAAMC,CAAAA,SAAS,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACD,SAAjB,EAAD,CAA7B,CAF0B,GAGlBE,CAAAA,OAHkB,CAGSF,SAHT,CAGlBE,OAHkB,CAGTC,MAHS,CAGSH,SAHT,CAGTG,MAHS,CAGDC,KAHC,CAGSJ,SAHT,CAGDI,KAHC,CAK1B,GAAMC,CAAAA,WAAW,CAAGf,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACI,WAAN,EAAqB,EAAhC,EAAD,CAA/B,CAL0B,GAMTC,CAAAA,aANS,CAMqDD,WANrD,CAMlBH,OANkB,CAMeK,aANf,CAMqDF,WANrD,CAMMG,OANN,CAMqCC,WANrC,CAMqDJ,WANrD,CAM8BD,KAN9B,CAQ1B,GAAMM,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CACAoB,OAAO,CAACC,GAAR,CAAYZ,SAAZ,EAEAP,SAAS,CAAC,UAAM,CACRiB,QAAQ,CAACd,UAAU,EAAX,CAAR,CACJ,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CALM,CAKJ,CAACW,aAAD,CALI,CAAT,CAQA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7BJ,QAAQ,CAACb,WAAW,CAACiB,KAAK,CAACC,GAAP,CAAZ,CAAR,CACH,CAFD,CAIA,MAAOb,CAAAA,OAAO,cAAG,mCAAH,cACd,aAAK,SAAS,CAAC,0BAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,8BADJ,EADJ,cAII,YAAK,SAAS,CAAC,YAAf,uBACI,eAAO,SAAS,CAAG,OAAnB,wBACI,oCACI,mCACI,0BADJ,cAEI,4BAFJ,cAGI,6BAHJ,cAII,4BAJJ,cAKI,4BALJ,cAMI,+BANJ,cAOI,iCAPJ,cAQI,oCARJ,cASI,+BATJ,GADJ,EADJ,cAcI,uBACKC,MAAM,CAACa,GAAP,CAAW,SAACF,KAAD,qBACZ,mCACI,oBAAKA,KAAK,CAACC,GAAX,EADJ,cAEI,oBAAKD,KAAK,CAACG,SAAX,EAFJ,cAGI,oBAAKH,KAAK,CAACI,UAAX,EAHJ,cAII,oBAAKJ,KAAK,CAACK,IAAN,CAAWC,IAAhB,EAJJ,cAKI,oBAAKN,KAAK,CAACO,MAAN,CAAaC,QAAb,EAAL,EALJ,cAMI,oBAAKR,KAAK,CAACS,MAAX,EANJ,cAOI,oBAAKT,KAAK,CAACU,WAAN,CAAkBF,QAAlB,EAAL,EAPJ,cAQI,oBAAKR,KAAK,CAACW,WAAX,EARJ,cASI,mCACI,KAAC,IAAD,EAAM,EAAE,CAAE,UAAYX,KAAK,CAACC,GAA5B,CAAiC,SAAS,CAAC,iBAA3C,uBADJ,CAEK,EAFL,cAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMF,CAAAA,aAAa,CAACC,KAAD,CAAnB,EAA/B,CAA2D,SAAS,CAAC,mBAArE,sBAHJ,GATJ,GAASA,KAAK,CAACC,GAAf,CADY,EAAX,CADL,EAdJ,GADJ,EAJJ,GADA,CA0CH,CAED,cAAejB,CAAAA,YAAf","sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { listOrders, deleteOrder } from '../actions/orderActions';\n\n\nfunction OrdersScreen (props) {\n\n    const orderList = useSelector((state) => state.orderList);\n    const { loading, orders, error } = orderList;\n\n    const orderDelete = useSelector((state) => state.orderDelete || {});\n    const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\n\n    const dispatch = useDispatch();\n    console.log(orderList)\n\n    useEffect(() => {\n            dispatch(listOrders());\n        return () => {\n          //\n        };\n      }, [successDelete]);\n\n\n    const deleteHandler = (order) => {\n        dispatch(deleteOrder(order._id))\n    }\n\n    return loading ? <div>Loading...</div> :\n    <div className=\"content content-margined\">\n        <div className=\"order-header\">\n            <h3>Orders</h3>\n        </div>\n        <div className=\"order-list\">\n            <table className = \"table\">\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>DATE</th>\n                        <th>TOTAL</th>\n                        <th>USER</th>\n                        <th>PAID</th>\n                        <th>PAID AT</th>\n                        <th>DELIVERED</th>\n                        <th>DELIVERED AT</th>\n                        <th>ACTIONS</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {orders.map((order) =>(\n                    <tr key={order._id}>\n                        <td>{order._id}</td>\n                        <td>{order.createdAt}</td>\n                        <td>{order.totalPrice}</td>\n                        <td>{order.user.name}</td>\n                        <td>{order.isPaid.toString()}</td>\n                        <td>{order.paidAt}</td>\n                        <td>{order.isDelivered.toString()}</td>\n                        <td>{order.deliveredAt}</td>\n                        <td>\n                            <Link to={\"/order/\" + order._id} className=\"button seconday\" > Details </Link>\n                            {''}\n                            <button type=\"button\" onClick={() => deleteHandler(order)} className=\" button secondary\"> Delete </button>\n                        </td>\n                    </tr>))}\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n}\n\nexport default OrdersScreen;"]},"metadata":{},"sourceType":"module"}