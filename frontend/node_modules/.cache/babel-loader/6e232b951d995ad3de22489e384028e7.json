{"ast":null,"code":"import { ITEM_LIST_REQUEST, ITEM_LIST_SUCCESS, ITEM_LIST_FAIL, ITEM_DETAILS_REQUEST, ITEM_DETAILS_SUCCESS, ITEM_DETAILS_FAIL, ITEM_SAVE_REQUEST, ITEM_SAVE_SUCCESS, ITEM_SAVE_FAIL, ITEM_DELETE_SUCCESS, ITEM_DELETE_FAIL, ITEM_DELETE_REQUEST } from '../constants/itemConstants';\nimport axios from 'axios';\n\nconst listItems = endpoint => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(endpoint);\n    const {\n      data1\n    } = await axios.get('https://dog.ceo/api/breeds/image/random');\n    const {\n      data2\n    } = await axios.get('https://dog.ceo/api/breeds/image/random');\n    const {\n      data3\n    } = await axios.get('https://dog.ceo/api/breeds/image/random');\n    Promise.all([{\n      data1\n    }, {\n      data2\n    }, {\n      data3\n    }]).then(function (values) {\n      console.log(values);\n    });\n    dispatch({\n      type: ITEM_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveItem = item => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ITEM_SAVE_REQUEST,\n      payload: item\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n\n    if (!item._id) {\n      const {\n        data\n      } = await axios.post('/api/items', item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    } else {\n      const {\n        data\n      } = await axios.put('/api/items/' + item._id, item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: ITEM_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsItem = itemId => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_DETAILS_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.get(\"/api/items/\" + itemId);\n    dispatch({\n      type: ITEM_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst deleteItem = itemId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: ITEM_DELETE_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.delete('/api/items/' + itemId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: ITEM_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listItems, detailsItem, saveItem, deleteItem };","map":{"version":3,"sources":["/home/vrdevchris/photoPortfolio/frontend/src/actions/itemActions.js"],"names":["ITEM_LIST_REQUEST","ITEM_LIST_SUCCESS","ITEM_LIST_FAIL","ITEM_DETAILS_REQUEST","ITEM_DETAILS_SUCCESS","ITEM_DETAILS_FAIL","ITEM_SAVE_REQUEST","ITEM_SAVE_SUCCESS","ITEM_SAVE_FAIL","ITEM_DELETE_SUCCESS","ITEM_DELETE_FAIL","ITEM_DELETE_REQUEST","axios","listItems","endpoint","dispatch","type","data","get","data1","data2","data3","Promise","all","then","values","console","log","payload","error","message","saveItem","item","getState","userSignin","userInfo","_id","post","headers","token","put","detailsItem","itemId","deleteItem","delete","Authorization","success"],"mappings":"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","sourcesContent":["import {\n    ITEM_LIST_REQUEST,\n    ITEM_LIST_SUCCESS,\n    ITEM_LIST_FAIL,\n    ITEM_DETAILS_REQUEST,\n    ITEM_DETAILS_SUCCESS,\n    ITEM_DETAILS_FAIL,\n    ITEM_SAVE_REQUEST,\n    ITEM_SAVE_SUCCESS,\n    ITEM_SAVE_FAIL,\n    ITEM_DELETE_SUCCESS,\n    ITEM_DELETE_FAIL,\n    ITEM_DELETE_REQUEST,\n  } from '../constants/itemConstants';\nimport axios from 'axios';\n\n\n\nconst listItems = (endpoint) => async (dispatch) => {\n  try{\n    dispatch({type: ITEM_LIST_REQUEST});\n    const {data} = await axios.get(endpoint);\n    const {data1} = await axios.get('https://dog.ceo/api/breeds/image/random');\n    const {data2} = await axios.get('https://dog.ceo/api/breeds/image/random');\n    const {data3} = await axios.get('https://dog.ceo/api/breeds/image/random');\n\n    Promise.all([{data1}, {data2}, {data3}]).then(function(values){\n      console.log(values)\n    })\n    \n    dispatch({type: ITEM_LIST_SUCCESS,  payload: data})\n  }\n  catch(error){\n    dispatch({ type: ITEM_LIST_FAIL, payload: error.message});\n  }\n}\n\nconst saveItem = (item) => async (dispatch, getState) => {\n    try {\n      dispatch({type: ITEM_SAVE_REQUEST, payload: item})\n      const {\n          userSignin: { userInfo },\n      } = getState();\n      if(!item._id){\n          const {data} = await axios.post('/api/items', item, {\n            headers: {\n              'Authorization' : 'Bearer ' + userInfo.token,\n            },\n          });\n\n      dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n      } else {\n        const {data} = await axios.put('/api/items/' + item._id, item, {\n          headers: {\n            'Authorization' : 'Bearer ' + userInfo.token,\n          },\n        });\n\n        dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n        }\n        \n    \n        \n    } catch (error) {\n      dispatch({type: ITEM_SAVE_FAIL, payload: error.message})\n    }\n};\n\nconst detailsItem = (itemId) => async (dispatch) => {\n    try{\n      dispatch({type: ITEM_DETAILS_REQUEST, payload: itemId});\n      const {data} = await axios.get(\"/api/items/\" + itemId);\n      dispatch({type: ITEM_DETAILS_SUCCESS, payload: data});\n    } catch (error) {\n      dispatch({type: ITEM_DETAILS_FAIL, payload: error.message});\n    }\n}\n\nconst deleteItem = (itemId) => async (dispatch, getState) => {\n    try {\n      const {\n        userSignin: { userInfo },\n      } = getState();\n      dispatch({ type: ITEM_DELETE_REQUEST, payload: itemId });\n      const { data } = await axios.delete('/api/items/' + itemId, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token,\n        },\n      });\n      dispatch({ type: ITEM_DELETE_SUCCESS, payload: data, success: true });\n    } catch (error) {\n      dispatch({ type: ITEM_DELETE_FAIL, payload: error.message });\n    }\n  };\n\n\n\nexport { listItems, detailsItem, saveItem, deleteItem };"]},"metadata":{},"sourceType":"module"}