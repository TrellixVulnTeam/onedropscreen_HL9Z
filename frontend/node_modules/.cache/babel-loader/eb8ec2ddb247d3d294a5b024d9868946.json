{"ast":null,"code":"import { ITEM_LIST_REQUEST, ITEM_LIST_SUCCESS, ITEM_LIST_FAIL, ITEM_DETAILS_REQUEST, ITEM_DETAILS_SUCCESS, ITEM_DETAILS_FAIL, ITEM_SAVE_REQUEST, ITEM_SAVE_SUCCESS, ITEM_SAVE_FAIL, ITEM_DELETE_SUCCESS, ITEM_DELETE_FAIL, ITEM_DELETE_REQUEST } from '../constants/itemConstants';\nimport axios from 'axios';\n\nconst listItems = endpoint => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(endpoint);\n    console.log({\n      data\n    });\n    dispatch({\n      type: ITEM_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveItem = item => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ITEM_SAVE_REQUEST,\n      payload: item\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n\n    if (!item._id) {\n      const {\n        data\n      } = await axios.post('/api/items', item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    } else {\n      const {\n        data\n      } = await axios.put('/api/items/' + item._id, item, {\n        headers: {\n          'Authorization': 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: ITEM_SAVE_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: ITEM_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsItem = itemId => async dispatch => {\n  try {\n    dispatch({\n      type: ITEM_DETAILS_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.get(\"/api/items/\" + itemId);\n    dispatch({\n      type: ITEM_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst deleteItem = itemId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: ITEM_DELETE_REQUEST,\n      payload: itemId\n    });\n    const {\n      data\n    } = await axios.delete('/api/items/' + itemId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: ITEM_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: ITEM_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listItems, detailsItem, saveItem, deleteItem };","map":{"version":3,"sources":["/home/vrdevchris/photoPortfolio/frontend/src/actions/itemActions.js"],"names":["ITEM_LIST_REQUEST","ITEM_LIST_SUCCESS","ITEM_LIST_FAIL","ITEM_DETAILS_REQUEST","ITEM_DETAILS_SUCCESS","ITEM_DETAILS_FAIL","ITEM_SAVE_REQUEST","ITEM_SAVE_SUCCESS","ITEM_SAVE_FAIL","ITEM_DELETE_SUCCESS","ITEM_DELETE_FAIL","ITEM_DELETE_REQUEST","axios","listItems","endpoint","dispatch","type","data","get","console","log","payload","error","message","saveItem","item","getState","userSignin","userInfo","_id","post","headers","token","put","detailsItem","itemId","deleteItem","delete","Authorization","success"],"mappings":"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","sourcesContent":["import {\n    ITEM_LIST_REQUEST,\n    ITEM_LIST_SUCCESS,\n    ITEM_LIST_FAIL,\n    ITEM_DETAILS_REQUEST,\n    ITEM_DETAILS_SUCCESS,\n    ITEM_DETAILS_FAIL,\n    ITEM_SAVE_REQUEST,\n    ITEM_SAVE_SUCCESS,\n    ITEM_SAVE_FAIL,\n    ITEM_DELETE_SUCCESS,\n    ITEM_DELETE_FAIL,\n    ITEM_DELETE_REQUEST,\n  } from '../constants/itemConstants';\nimport axios from 'axios';\n\n\n\nconst listItems = (endpoint) => async (dispatch) => {\n  try{\n    dispatch({type: ITEM_LIST_REQUEST});\n    const {data} = await axios.get(endpoint);\n    console.log({data});\n    \n    dispatch({type: ITEM_LIST_SUCCESS,  payload: data})\n  }\n  catch(error){\n    dispatch({ type: ITEM_LIST_FAIL, payload: error.message});\n  }\n}\n\nconst saveItem = (item) => async (dispatch, getState) => {\n    try {\n      dispatch({type: ITEM_SAVE_REQUEST, payload: item})\n      const {\n          userSignin: { userInfo },\n      } = getState();\n      if(!item._id){\n          const {data} = await axios.post('/api/items', item, {\n            headers: {\n              'Authorization' : 'Bearer ' + userInfo.token,\n            },\n          });\n\n      dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n      } else {\n        const {data} = await axios.put('/api/items/' + item._id, item, {\n          headers: {\n            'Authorization' : 'Bearer ' + userInfo.token,\n          },\n        });\n\n        dispatch({type: ITEM_SAVE_SUCCESS, payload: data})\n        }\n        \n    \n        \n    } catch (error) {\n      dispatch({type: ITEM_SAVE_FAIL, payload: error.message})\n    }\n};\n\nconst detailsItem = (itemId) => async (dispatch) => {\n    try{\n      dispatch({type: ITEM_DETAILS_REQUEST, payload: itemId});\n      const {data} = await axios.get(\"/api/items/\" + itemId);\n      dispatch({type: ITEM_DETAILS_SUCCESS, payload: data});\n    } catch (error) {\n      dispatch({type: ITEM_DETAILS_FAIL, payload: error.message});\n    }\n}\n\nconst deleteItem = (itemId) => async (dispatch, getState) => {\n    try {\n      const {\n        userSignin: { userInfo },\n      } = getState();\n      dispatch({ type: ITEM_DELETE_REQUEST, payload: itemId });\n      const { data } = await axios.delete('/api/items/' + itemId, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token,\n        },\n      });\n      dispatch({ type: ITEM_DELETE_SUCCESS, payload: data, success: true });\n    } catch (error) {\n      dispatch({ type: ITEM_DELETE_FAIL, payload: error.message });\n    }\n  };\n\n\n\nexport { listItems, detailsItem, saveItem, deleteItem };"]},"metadata":{},"sourceType":"module"}